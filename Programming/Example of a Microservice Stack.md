# Example of a microservice Stack

| Stack Item     | Stack Choice                                                                                            | Notes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| -------------- | ------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Web Framework  | Go > J2EE > Spring                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Orchestration  | Kubernetes                                                                                              | **My favourite feature**: <ul> <li>When you're working on a feature in service A that depends on microservices B,C and D</li> <li>You can run service A locally</li> <li>You can [port-forward](https://kubernetes.io/docs/tasks/access-application-cluster/port-forward-access-application-cluster/) services B, C and D from the hosted dev environment to run on local ports</li> <li>This allows you to test your feature/fix quickly without spending time spinning up all services</li> </ul> |
| CIAM           | <ul> <li>**Open source, self-hosted**: FusionAuth</li> <li>**Closed source**: Auth0</li> </ul>          | <ul> <li> I tried keycloak but the documentation is so difficult to follow</li> <li> For example, docs use relative paths</li> <li> Have to scroll all the way up to find base path</li> <li> Even when you append base path, you get 404</li> <li> Really difficult to understand stuff from docs</li> <li> FusionAuth's docs were really easy to follow</li> </ul>                                                                                                                                |
| CRM            | <ul> <li>**Open source, self-hosted**: Directus</li> <li>**Proprietary**: Contentful</li> </ul>         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| SQL            | PostgreSQL                                                                                              | <ul> <li> Supports encryption</li> <li> Supports enums, return ids, checks</li> <li> Good read and write performance</li> <li> Great documentation</li> </ul>                                                                                                                                                                                                                                                                                                                                       |
| NoSQL          | Couchbase seems pretty good                                                                             | I don't like MongoDB because: <ul> <li>From experience: Fire and forget might cause unit tests to suddenly fail</li> <li>I can never remember the syntax. Prefer SQL compatibility</li> </ul>                                                                                                                                                                                                                                                                                                       |
| Message Queue  | <ul> <li>**Simple and Powerful**: RabbitMQ</li> <li>**Complex but performant**: Apache Kafka</li> </ul> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| IaC            | HashiCorp                                                                                               | Same code works on multiple cloud platforms                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Security Store | HashiCorp Vault                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Logging        |                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
